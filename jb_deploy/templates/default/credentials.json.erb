{
    "databases": {
        "jbx"    : {
            <% if node['role'] === 'mesh' -%>
            "adapter"     : "Mysql",
            "host"        : "<%= @mysql_write_host %>",
            "username"    : "<%= @mysql_write_username %>",
            "password"    : "<%= @mysql_write_password %>",
            "dbname"      : "<%= @mysql_write_database %>",
            "persistent"  : true
            <% else -%>
            "read"   : {
                "adapter"     : "Mysql",
                "host"        : "<%= @mysql_read_host %>",
                "username"    : "<%= @mysql_read_username %>",
                "password"    : "<%= @mysql_read_password %>",
                "dbname"      : "<%= @mysql_read_database %>",
                "persistent"  : true
            },
            "write"  : {
                "adapter"     : "Mysql",
                "host"        : "<%= @mysql_write_host %>",
                "username"    : "<%= @mysql_write_username %>",
                "password"    : "<%= @mysql_write_password %>",
                "dbname"      : "<%= @mysql_write_database %>",
                "persistent"  : false
            }
            <% end -%>
        },
        "hitpath": {
            "adapter"     : "Mysql",
            "host"        : "<%= @hitpath_host %>",
            "username"    : "<%= @hitpath_username %>",
            "password"    : "<%= @hitpath_password %>",
            "dbname"      : "<%= @hitpath_database %>",
            "persistent"  : true
        },
        "redis": {
            "read": {
                "adapter"     : "Redis",
                "host"        : "<%= @redis_read_host %>",
                "port"        : "<%= @redis_read_port %>",
                "db_index"    : "<%= @redis_read_index %>"
            },
            "write": {
                "adapter"     : "Redis",
                "host"        : "<%= @redis_write_host %>",
                "port"        : "<%= @redis_write_port %>",
                "db_index"    : "<%= @redis_write_index %>"
            }
        }
    },
    "mail"      : <%= @mail %>,
    "domains"   : <%= @domains %>,
    "gearman"   : {
        "host" : "<%= @gearman_host %>"
    },
    "datadog" : {
        "apikey": "<%= @datadog_api_key %>",
        "appkey": "<%= @datadog_app_key %>"
    },
    "hitpath"   : {
        "hitpath_id"    : "<%= @hitpath_id %>",
        "username"      : "<%= @hitpath_user %>",
        "password"      : "<%= @hitpath_pass %>",
        "aws_bucket"    : "<%= @hitpath_aws_bucket %>",
        "api_key"       : "<%= @hitpath_api_key %>"
    },
    "aws"       : {
        "access_key"  : "<%= @aws_access_key %>",
        "secret_key"  : "<%= @aws_secret_key %>"
    },
    "raygun"    : "<%= @raygun %>",
    "crypt"     : "<%= @crypt %>",
    "web_driver": {
        "user"      : "<%= @webdriver_user %>",
        "password"  : "<%= @webdriver_password %>",
        "url"       : "<%= @webdriver_url %>",
        "capabilities": {
          "browserstack.debug": true,
          "browserstack.debugURL": false,
          "resolution" : "1920x1080"
        }
    },
    "alchemy": {
        "free" : "<%= @alchemy_free %>",
        "paid" : "<%= @alchemy_paid %>"
    },
    "visualRecognition": {
        "free" : "<%= @visualRecognition_free %>",
        "paid" : "<%= @visualRecognition_paid %>"
    },
    "trackrevenue" : "<%= @trackrevenue %>"
}
